"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[6807],{7060:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>r,metadata:()=>o,toc:()=>h});var s=n(4848),i=n(8453);const r={sidebar_position:60},a="Testing and Evaluation",o={id:"report/testing",title:"Testing and Evaluation",description:"In this chapter, the tests conducted on the system and the metrics used to evaluate its performance are analyzed.",source:"@site/docs/report/testing.md",sourceDirName:"report",slug:"/report/testing",permalink:"/anonymous-shard/docs/report/testing",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:60,frontMatter:{sidebar_position:60},sidebar:"tutorialSidebar",previous:{title:"DevOps",permalink:"/anonymous-shard/docs/report/devops"},next:{title:"Deployment",permalink:"/anonymous-shard/docs/report/deployment"}},c={},h=[{value:"Scalability Test",id:"scalability-test",level:2},{value:"Encountered Problems",id:"encountered-problems",level:3},{value:"Average RTT Test",id:"average-rtt-test",level:2},{value:"Process",id:"process",level:3},{value:"Considerations",id:"considerations",level:3},{value:"Specific Measurement Process",id:"specific-measurement-process",level:3},{value:"Request",id:"request",level:4},{value:"Response",id:"response",level:4},{value:"Other Latency Factors",id:"other-latency-factors",level:4},{value:"Final RTT Computation",id:"final-rtt-computation",level:3},{value:"Countries Configuration",id:"countries-configuration",level:3},{value:"Detailed Analysis",id:"detailed-analysis",level:3},{value:"USA-India Configuration",id:"usa-india-configuration",level:3},{value:"Encountered Problems",id:"encountered-problems-1",level:3},{value:"Limitations",id:"limitations",level:3},{value:"Future Test Extensions",id:"future-test-extensions",level:3}];function l(e){const t={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"testing-and-evaluation",children:"Testing and Evaluation"})}),"\n",(0,s.jsxs)(t.p,{children:["In this chapter, the tests conducted on the system and the metrics used to evaluate its performance are analyzed.",(0,s.jsx)(t.br,{}),"\n","The system has been tested under different configurations to assess various scenarios."]}),"\n",(0,s.jsxs)(t.p,{children:["For the first prototype, the tests are mainly focused on evaluating the system's functionalities.",(0,s.jsx)(t.br,{}),"\n","In contrast, the second prototype is designed specifically to assess the performance of the Tor network in terms of\nlatency.",(0,s.jsx)(t.br,{}),"\n","More importantly, the second prototype was developed to make general measurements on the Tor network; in this case, the\nfollowing presented measurements are used to understand how the first prototype can behave."]}),"\n",(0,s.jsxs)(t.p,{children:["Specifically, the tests aim to determine the effectiveness of the system's scalability, identify potential improvements,\nor evaluate additional components to handle a large number of nodes.",(0,s.jsx)(t.br,{}),"\n","More generally, the goal is to assess the feasibility or understand the areas that need further development."]}),"\n",(0,s.jsx)(t.p,{children:"Multiple scalability scenarios have been tested, ranging from a small number of nodes to a large-scale network to\nobserve system behavior in different conditions."}),"\n",(0,s.jsxs)(t.p,{children:["Other tests have been conducted to measure the Round Trip Time (RTT) between nodes in the network.",(0,s.jsx)(t.br,{}),"\n","This factor can have a significant impact on message delivery and task execution time, specifically within the Tor\nnetwork.",(0,s.jsx)(t.br,{}),"\n","Knowing this value is crucial for evaluating system performance since every operation possibly involves multiple nodes."]}),"\n",(0,s.jsxs)(t.p,{children:["Furthermore, all tests are conducted in ",(0,s.jsx)(t.strong,{children:"anonymous mode"}),", as performing tests in a non-anonymous mode would not\nprovide meaningful insights given the nature of the system."]}),"\n",(0,s.jsx)(t.p,{children:"More efforts can be made to enhance and refine this evaluation phase as discussed in the Limitations Section and in the\nFuture Test Extensions Section."}),"\n",(0,s.jsx)(t.h2,{id:"scalability-test",children:"Scalability Test"}),"\n",(0,s.jsxs)(t.p,{children:["This test aims to evaluate how the system behaves as the number of nodes increases.",(0,s.jsx)(t.br,{}),"\n","The primary focus is to determine the scalability of the network and assess whether an efficient discovery algorithm,\nsuch as Kademlia, enables effective scaling.",(0,s.jsx)(t.br,{}),"\n","The discovery (explained in the Discovery Mechanism section) and task processing mechanism have been verified for\nnetworks of up to 100 producer nodes and 30 consumer nodes on the same machine.",(0,s.jsx)(t.br,{}),"\n","The number of submitted task requests was set to 200, and the system was able to handle them without any issues."]}),"\n",(0,s.jsxs)(t.p,{children:["A key factor influencing system performance is the tuning of specific parameters.",(0,s.jsx)(t.br,{}),"\n","Specifically, since the discovery mechanism uses a hash table, the number of nodes each node can store in its routing\ntable is one of them.",(0,s.jsx)(t.br,{}),"\n","This parameter is crucial as it directly impacts the number of hops a message must take to reach its destination.",(0,s.jsx)(t.br,{}),"\n","Additionally, it affects the time required for node discovery and the overall network stability."]}),"\n",(0,s.jsxs)(t.p,{children:["To analyze these effects, the routing table bucket size has been varied from 10 to 70 nodes, observing the system's\nbehavior under different configurations.",(0,s.jsx)(t.br,{}),"\n","A frontend view from the point of the ",(0,s.jsx)(t.em,{children:"Producers"})," can be seen in Figure 1 and Figure 2 where different bucket sizes have\nbeen tested."]}),"\n",(0,s.jsxs)(t.p,{children:["Another critical aspect that emerged from this test is the importance of the ",(0,s.jsx)(t.strong,{children:"Metric-Sharing interval"}),", which\ndetermines how frequently nodes exchange resource metrics.",(0,s.jsx)(t.br,{}),"\n","This parameter represents a trade-off:"]}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"If the interval is too long, metric propagation slows down, potentially delaying decision-making and task execution."}),"\n",(0,s.jsx)(t.li,{children:"If the interval is too short, the network may become flooded with messages, leading to unnecessary overhead."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["A high Metric-Sharing interval can degrade system performance by increasing task execution times and reducing overall\nefficiency.",(0,s.jsx)(t.br,{}),"\n","As discussed in previous chapters, the component responsible for evaluating task execution feasibility relies on\nup-to-date resource metrics to make informed decisions.",(0,s.jsx)(t.br,{}),"\n","Since the current ",(0,s.jsx)(t.em,{children:"Evaluator"})," logic is straightforward and selects the best node for execution based solely on available\nmetrics, outdated information may lead to suboptimal decisions."]}),"\n",(0,s.jsxs)(t.p,{children:["The worst-case scenario occurs when the selected provider lacks updated knowledge.",(0,s.jsx)(t.br,{}),"\n","If this provider appears to have the best metrics for executing the task but the system is unaware of it, the task is\nredirected to a suboptimal provider.",(0,s.jsx)(t.br,{}),"\n","This introduces a delay due to the need for task redirection, and since the new provider is not the most suitable,\nadditional execution delays occur."]}),"\n",(0,s.jsxs)(t.p,{children:["Ultimately, network consistency is crucial: nodes must maintain an updated view of the system's state to ensure\nefficient resource sharing.",(0,s.jsx)(t.br,{}),"\n","If metric propagation is too slow, task execution performance will suffer.",(0,s.jsx)(t.br,{}),"\n","To analyze the time needed for specific task execution and the time required to send a message to another node, a series\nof tests analyzed in the Average RTT Test section were conducted."]}),"\n",(0,s.jsx)(t.p,{children:"Briefly, important aspects that only regard the network are:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"The number of nodes in the network."}),"\n",(0,s.jsx)(t.li,{children:"The physical distance between nodes."}),"\n",(0,s.jsx)(t.li,{children:"The number of hops a message must traverse to reach its destination."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Other problems can arise from the execution of the task itself, but in this case, where the system is tested in a\ncontrolled environment and the tasks were simple, the focus was on the network itself."}),"\n",(0,s.jsx)(t.h3,{id:"encountered-problems",children:"Encountered Problems"}),"\n",(0,s.jsxs)(t.p,{children:["No significant problems were encountered during the scalability tests, as the system was able to handle a large number\nof nodes efficiently,",(0,s.jsx)(t.br,{}),"\n","but some considerations regarding the latency introduced by the Tor network need to be made.",(0,s.jsx)(t.br,{}),"\n","The network latency is not a problem of the system itself, and as mentioned, this network is designed to provide\nanonymity by routing messages through multiple relays (adding encryption layers), so this behavior is expected.",(0,s.jsx)(t.br,{}),"\n","However, it poses a challenge for our system, as it increases the time required for message delivery."]}),"\n",(0,s.jsxs)(t.p,{children:["One key observation is that, due to the way the Tor network operates, a new circuit is needed when the previous one is\nclosed due to expiration, inactivity, or other problems.",(0,s.jsx)(t.br,{}),"\n","The creation and switching of circuits contribute to the overall latency.",(0,s.jsx)(t.br,{}),"\n","This is something to consider when evaluating system performance, as it can introduce significant delays in task\nexecution.",(0,s.jsx)(t.br,{}),"\n","In particular, it could justify cases in which, apparently for no reason, the task execution time is higher than\nexpected."]}),"\n",(0,s.jsxs)(t.p,{children:["In this case and in general, if some messages fail to be delivered, or something happens in the network, the retry\nmechanism is triggered and the communication is re-established.",(0,s.jsx)(t.br,{}),"\n","This mechanism is essential to ensure the system's robustness and reliability, as it allows the system to recover from\nerrors and continue functioning correctly.",(0,s.jsx)(t.br,{}),"\n","The interval of the retry mechanism is a parameter that can be tuned to balance performance and reliability, or it can\nbe multiplied by the number of retries to avoid network flooding."]}),"\n",(0,s.jsxs)(t.p,{children:["Another secondary issue encountered is related to an implementation detail.",(0,s.jsx)(t.br,{}),"\n","As the network grows in size, nodes exchange larger packets about metrics or neighbors, as discussed in the Discovery\nMechanism section.",(0,s.jsx)(t.br,{}),"\n","These packets contain information about the node's neighbors, and when the network is large, they can become\nfragmented.",(0,s.jsx)(t.br,{}),"\n","The problem, which has been promptly resolved, was related to the reconstruction of the packet at the destination node\nwhen it was fragmented.",(0,s.jsx)(t.br,{}),"\n","This issue was solved by prefixing the packet length at the beginning of the packet, allowing the receiver to determine\nwhen the packet was fully received and ready for processing."]}),"\n",(0,s.jsx)(t.p,{children:"The problem was only encountered when scalability tests were performed because before, the local network's neighbor\npacket size was too small to encounter this problem."}),"\n",(0,s.jsxs)(t.p,{children:["Apart from these two issues, the tests were satisfactory because the system was able to handle a large number of nodes\nand tasks efficiently.",(0,s.jsx)(t.br,{}),"\n","Also, in cases where nodes are manually turned off, the system was able to continue functioning correctly, demonstrating\nits robustness.",(0,s.jsx)(t.br,{}),"\n","In this case, what could clearly be improved and analyzed is the behavior of the network when these nodes are\ndistributed worldwide.",(0,s.jsx)(t.br,{}),"\n","This is a problem that will be addressed in the future and discussed in the Future Test Extensions section.",(0,s.jsx)(t.br,{}),"\n","The average time for message delivery will be analyzed in the Detailed Analysis section."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"Bucket Size 50 reaching saturation",src:n(735).A+"",width:"2996",height:"2174"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Figure 1: Bucket Size 50 reaching saturation"})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"Bucket Size 70 saturated",src:n(9892).A+"",width:"2996",height:"2174"}),(0,s.jsx)(t.br,{}),"\n",(0,s.jsx)(t.em,{children:"Figure 2: Bucket Size 70 saturated"})]}),"\n",(0,s.jsx)(t.h2,{id:"average-rtt-test",children:"Average RTT Test"}),"\n",(0,s.jsxs)(t.p,{children:["A series of tests were conducted to measure the average Round Trip Time (RTT) between nodes in the network, with the\nfinal goal of estimating possible message delivery time values when dealing with a real-world scenario. RTT is a\ncritical metric for evaluating system performance, as it directly impacts message delivery and task execution time. For\nthis test, the specially created ",(0,s.jsx)(t.em,{children:"Analyzer"})," prototype was used."]}),"\n",(0,s.jsx)(t.h3,{id:"process",children:"Process"}),"\n",(0,s.jsxs)(t.p,{children:["In this experiment, ",(0,s.jsx)(t.em,{children:"Entry"})," and ",(0,s.jsx)(t.em,{children:"Exit"})," nodes were used to measure the time taken for a message to traverse the Tor\nnetwork. The Analyzer sends a message to the Entry node, which then forwards it to the Exit node. The total time taken\nfor the message to reach its destination and return is recorded. To get a quite accurate average RTT value, a set of 50\nrequests was repeated each hour of the day with a total of 1200 requests per configuration. The number of requests is a\ntunable parameter that can be increased to have a more accurate average value if needed or if the experiment needs to be\nrepeated for any reason."]}),"\n",(0,s.jsx)(t.p,{children:"At the end of the process, the measurements were averaged per hour, and charts were generated to visualize the results\nclearly and provide a comprehensive view. Moreover, the standard deviation was calculated to understand the variance in\nRTT values and identify potential outliers or noteworthy time spans."}),"\n",(0,s.jsx)(t.h3,{id:"considerations",children:"Considerations"}),"\n",(0,s.jsx)(t.p,{children:"Before analyzing the results or taking a look at the configurations, it is essential to consider how the measurements\nare obtained and the factors that can influence them. The tests have been conducted using a Dockerized environment,\nwhere two containers simulated the client and the server respectively."}),"\n",(0,s.jsxs)(t.p,{children:["To better explain and understand the internal mechanisms, an example is examined. In the Russia-USA case, the client was\nexplicitly configured to use an entry node in Russia (",(0,s.jsx)(t.em,{children:"EntryNodes ru"}),") and an exit node in the United States (\n",(0,s.jsx)(t.em,{children:"ExitNodes us"}),"). The server was only configured to use an exit node in the United States (",(0,s.jsx)(t.em,{children:"ExitNodes us"}),"). This\nsetup ensured that all traffic was routed through the specified locations."]}),"\n",(0,s.jsx)(t.p,{children:"Although both the client and the server have been hosted on a machine in Italy, which may introduce slight bias in the\nresults, this setup effectively simulates a controlled observer-based measurement; however, it does not fully replicate\na globally distributed scenario. Still, it offers valuable insights into Tor network performance across different\ngeographic configurations."}),"\n",(0,s.jsx)(t.p,{children:"The experiment was repeated with different entry-exit node pairs across the various countries configurations."}),"\n",(0,s.jsx)(t.p,{children:"The results revealed significant differences in RTT depending on the geographic distance between the nodes and the\nspecific countries involved, as expected. Circuits spanning longer distances generally exhibited higher latency, while\nthose confined to geographically closer nodes showed lower RTT values. Time-based variations also highlighted the impact\nof network congestion, with peak latency periods aligning with high-traffic hours in certain regions."}),"\n",(0,s.jsx)(t.h3,{id:"specific-measurement-process",children:"Specific Measurement Process"}),"\n",(0,s.jsx)(t.p,{children:"The total RTT consists of the time taken for a message to travel from the client to the server through the Tor network\nand back, but as mentioned, the client and the server were hosted in Italy. So, the RTT is not a simple client-server\nping but involves a multistep process."}),"\n",(0,s.jsx)(t.p,{children:"The measurement, keeping the example of the USA-Russia configuration, can be divided into three main phases:"}),"\n",(0,s.jsx)(t.h4,{id:"request",children:"Request"}),"\n",(0,s.jsx)(t.p,{children:"Steps involved from the client to reach the server through the Tor network."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Client to Entry Node:"})," Italy \u2192 RU"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Entry Node to Relay Nodes:"})," RU \u2192 Relays"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Relay Nodes to Exit Node:"})," Relays \u2192 US"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Exit Node forwards to Server:"})," US \u2192 Italy"]}),"\n"]}),"\n",(0,s.jsx)(t.h4,{id:"response",children:"Response"}),"\n",(0,s.jsx)(t.p,{children:"In this phase, the response is sent back to the client via the same Tor path."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Server forward through Exit Node:"})," Italy \u2192 US"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Exit Node to Relay Nodes:"})," US \u2192 Relays"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Relay Nodes to Entry Node:"})," Relays \u2192 RU"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Entry Node to Client:"})," RU \u2192 Italy"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Note that Tor circuit routing time, relay selection, and forwarding are included in the measurements. Same for the relay\nprocessing delay and network propagation delay between relays."}),"\n",(0,s.jsx)(t.h4,{id:"other-latency-factors",children:"Other Latency Factors"}),"\n",(0,s.jsx)(t.p,{children:"Several other elements impact RTT measurements."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Tor Network Congestion:"})," Congestion within the Tor network can introduce additional delays, particularly when\nrelays become overloaded due to high traffic volume at specific times or on certain routes. Another contributing\nfactor is the limited bandwidth of exit nodes, which can further slow down data transmission when handling large\namounts of traffic."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Operating System and Docker Overhead:"})," Although not directly related to the Tor network, system-level factors such\nas Docker container networking overhead and OS-related processing delays can contribute to additional latency. While\nthese factors are generally minor, they should still be considered in performance evaluations."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Note that the Tor Circuit Setup Time is not included in the RTT measurements, as it is a separate factor that can vary\ndepending also on relay availability. This setup time can be a significant factor in countries where the Tor network is\neither unavailable or rarely used, and some considerations about this phase can be found in the Encountered Problem\nSection."}),"\n",(0,s.jsx)(t.h3,{id:"final-rtt-computation",children:"Final RTT Computation"}),"\n",(0,s.jsx)(t.p,{children:"The total is the sum of all contributing factors."}),"\n",(0,s.jsx)(t.p,{children:"T_Request = T_Client to Entry + T_Entry to Relays + T_Relays to Exit + T_Exit to Server"}),"\n",(0,s.jsx)(t.p,{children:"T_Response = T_Server to Exit + T_Exit to Relays + T_Relays to Entry + T_Entry to Client"}),"\n",(0,s.jsx)(t.p,{children:"RTT = T_Request + T_Response"}),"\n",(0,s.jsx)(t.p,{children:"Where each term includes network latency, encryption/decryption overhead, relay processing time, and congestion delays."}),"\n",(0,s.jsx)(t.h3,{id:"countries-configuration",children:"Countries Configuration"}),"\n",(0,s.jsx)(t.p,{children:"These tests were conducted using different country configurations trying to evaluate the system's message delivery time\nacross various geographic locations."}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Italy-Italy:"})," This configuration serves as a baseline to understand the behavior of the system in a controlled\nenvironment. By testing within the same country, we can minimize the effects of network congestion and routing\ncomplexity, providing a reference to comparing other, more geographically spread configurations. In the following\nsections, this configuration will be called the basecase."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Italy-Bulgaria:"})," The Italy-Bulgaria pair helps us analyze the impact of geographical distance and network\ncongestion in the case of a longer, but still European, distance. This test will highlight how the system performs\nwhen routing through different countries within Europe, and how the performance changes as moving away from the\nbaseline (Italy-Italy) configuration. What should be noted are timings similar to the basecase with a slight increase\nin the values due to the increased distance between the two countries."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Italy-Mexico:"})," By introducing a significant transcontinental distance, the Italy-Mexico configuration will allow\nus to evaluate the system\u2019s performance under different routing conditions. This test explores how the system behaves\nwhen traversing multiple international networks with potential bandwidth limitations and routing inefficiencies."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Russia-USA:"})," A test spanning the continents of Europe and North America will evaluate the system's performance\nover long distances. The results will help assess the impact of both physical distance and network congestion, which\ncould vary due to differing levels of infrastructure and routing mechanisms across countries."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"USA-India:"})," This configuration tests a long-distance route between North America and Asia, which often experiences\nsignificant network congestion due to the amount of traffic routed through these regions. The USA-India test will\noffer insights into how well the system handles latency and congestion in the context of transoceanic connections,\noften influenced by both infrastructural limitations and geopolitical factors."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Japan-France:"})," A test between Japan and France evaluates intercontinental network performance between Asia and\nEurope. This route often involves different network backbones and potential bottlenecks. This configuration will help\nunderstand how the system copes with varying network performance influenced by different regional routing schemes."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Each tested country configuration is represented in the figures below in the Detailed Analysis Section, where the average RTT for each location is displayed."}),"\n",(0,s.jsx)(t.h3,{id:"detailed-analysis",children:"Detailed Analysis"}),"\n",(0,s.jsx)(t.p,{children:"This section presents an analysis of the results obtained following the methodology described earlier. As introduced, a\nchart for each country configuration is provided to offer a comprehensive view of network latency."}),"\n",(0,s.jsx)(t.p,{children:"The analysis begins with the baseline configuration and gradually extends to other setups, depending on the geographic\ndistance covered by the tests. The baseline configuration refers to the scenario where the client, server, and both the\nentry and exit nodes are located in Italy. This setup serves also as a reference for comparison, as it represents the\nminimum latency in these tests."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Figure 1:"})," illustrates the average RTT for the Italy-Italy configuration."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"AVG Italy-Italy",src:n(9507).A+"",width:"2258",height:"1220"})}),"\n",(0,s.jsxs)(t.p,{children:["From the chart in ",(0,s.jsx)(t.strong,{children:"Figure 1"}),", it can be observed that the average RTT over time is approximately 710 ms, with a\nstandard deviation of 170 ms. The relatively low standard deviation indicates that the network remains fairly stable\nthroughout the day. However, as expected, there is a slight increase in RTT during the morning and evening, while the\nlowest latency is recorded at night. The impact of the Tor network on RTT is clear from this baseline case."]}),"\n",(0,s.jsxs)(t.p,{children:["A more interesting comparison emerges in the Italy-Bulgaria configuration, as shown in ",(0,s.jsx)(t.strong,{children:"Figure 2"}),". In this scenario the physical distance between the nodes increases.\nConsequently, the average RTT rises to approximately 760 ms, with a standard deviation of 245 ms."]}),"\n",(0,s.jsx)(t.p,{children:"This result is noteworthy because, while an increase in RTT was expected due to the longer distance, the difference\nremains moderate, as both countries are within Europe. Additionally, the standard deviation grows slightly more than the\nRTT itself. This observation suggests that as the geographical distance increases and additional network routes are\ninvolved, not only RTT rises, but the variability in network performance also increases. The growing standard deviation\nindicates a degree of network instability over time, but it still remains within acceptable limits."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"AVG Italy\u2014Italy",src:n(9507).A+"",width:"2258",height:"1220"}),"\n",(0,s.jsx)(t.img,{alt:"AVG Italy\u2014Bulgary",src:n(2557).A+"",width:"2204",height:"1176"})]}),"\n",(0,s.jsxs)(t.p,{children:["An even more significant variation is observed in the Italy-Mexico configuration in ",(0,s.jsx)(t.strong,{children:"Figure 3"}),". In this case, the\ndistance increases considerably, and the network infrastructure differs more significantly. The average RTT in this\nsetup is approximately 815 ms, with a standard deviation of about 300 ms. As expected, both RTT and standard deviation\nincrease with distance, confirming the correlation between geographical separation and network performance variability."]}),"\n",(0,s.jsx)(t.p,{children:"Examining all three charts, it becomes clear that between 05:00 PM and 07:00 PM, the RTT values are higher. This\npattern, unlike the European or intra-Italy measurements and averages, represents the peak hours during which network\ncongestion is more pronounced."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"AVG Italy-Mexico",src:n(817).A+"",width:"2200",height:"1194"})}),"\n",(0,s.jsxs)(t.p,{children:["The Russia-USA configuration, shown in ",(0,s.jsx)(t.strong,{children:"Figure 4"}),", exhibits different results compared to the previous configurations."]}),"\n",(0,s.jsx)(t.p,{children:"An interesting aspect of this configuration is that the average RTT is approximately 820 ms, with a standard deviation\nof 320 ms. More than the increase in RTT, which remains consistent with the expected latency increase due to the greater\ndistance between the nodes, what stands out is its similarity to the Italy-Mexico case. This similarity may be\nattributed to various factors, particularly the choice of the circuit. Since Tor selects nodes based only on the\nspecified country, the actual nodes chosen in Russia and the USA significantly impact the results. A possible\nexplanation is that the Tor network does not select nodes randomly within a country but rather uses an algorithm that\nbalances multiple parameters, such as latency, network capacity, and load. In this case, despite the greater\ngeographical distance, the RTT values are similar to those in the Italy-Mexico configuration, highlighting the crucial\nrole of circuit selection."}),"\n",(0,s.jsx)(t.p,{children:"Additionally, this result suggests that, due to the high availability of nodes in the USA, the network includes\nsignificantly more high-performance nodes compared to Mexico. This is clear from the current number of available relays:\n9 in Mexico of which only one Entry (or Guard) and one Exit versus the USA where there are a total of almost 1700\nrelays [According to Tor Metrics website at the time of testing]."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"AVG Russia-USA",src:n(4027).A+"",width:"2202",height:"1180"})}),"\n",(0,s.jsxs)(t.p,{children:["Finally, the ",(0,s.jsx)(t.strong,{children:"USA-India"})," configuration, shown in ",(0,s.jsx)(t.strong,{children:"Figure 5"}),", examines a transoceanic connection between North\nAmerica and Asia. The RTT here reflects the larger physical distance and more pronounced network congestion."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"AVG USA-India",src:n(2111).A+"",width:"2208",height:"1190"})}),"\n",(0,s.jsx)(t.h3,{id:"usa-india-configuration",children:"USA-India Configuration"}),"\n",(0,s.jsx)(t.p,{children:"The USA-India configuration, shown in Figure, shows an even more pronounced increase in\nRTT compared to the previous configurations. In this case, the measurements aim to analyze how the network handles\ntransoceanic traffic routing and to assess whether infrastructural limitations or other factors influence performance.\nThe average RTT is approximately 850 ms, with a standard deviation of 440 ms."}),"\n",(0,s.jsx)(t.p,{children:"A notable aspect of this configuration is the significant peak in RTT values, which exceed 2500 ms around 06:00 PM@.\nThe difference between this time period and other hours is significant. Further investigation could help determine\nwhether this peak is an isolated event or a recurring pattern. Conducting measurements over weeks or months would\nprovide insights into whether this behavior is consistent or specific to that particular day."}),"\n",(0,s.jsx)(t.p,{children:"Aside from this peak, the measurements are generally consistent with the expected increase in RTT due to the increased\ndistance between the nodes. However, the high standard deviation, over 400 ms, indicates significant variability in\nnetwork performance. While this value is influenced by the extreme peak observed, it remains a noteworthy finding in\nitself."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"AVG Japan-France",src:n(1358).A+"",width:"2210",height:"1184"})}),"\n",(0,s.jsx)(t.p,{children:"The measurement about the Japan-France configuration has been done to evaluate the system over intercontinental network\nperformance between Europe and Asia. The average RTT is approximately 740 ms, with a standard deviation of 290 ms, as\nas shown in Figure. The results are consistent and no bottlenecks, but three possible\npeaks that reached the maximum of about 1500 ms are noted. They are isolated, so they can be considered situations in\nwhich the network was a little bit more congested but, like in the USA-India configurations, further investigation could\nhelp determine whether these peaks are recurring patterns or not."}),"\n",(0,s.jsx)(t.p,{children:"In summary, these tests provide valuable insights into the system's performance across different geographic\nconfigurations. The results highlight the impact of physical distance, network congestion, and circuit selection on\nnetwork latency. Moreover, the standard deviation values offer insights into network stability and variability over\ntime."}),"\n",(0,s.jsxs)(t.p,{children:["The prototype is available in this ",(0,s.jsx)(t.a,{href:"https://github.com/paga16-hash/tor-net-analyzer",children:"GitHub repository"}),", and the\nconfiguration file can be easily modified to include new countries or to change the entry and exit nodes. A list of\navailable relays available in different countries and interesting metrics can be found in\nthe ",(0,s.jsx)(t.a,{href:"https://hackertarget.com/tor-exit-node-visualization/",children:"Tor Metrics"})," website."]}),"\n",(0,s.jsx)(t.h3,{id:"encountered-problems-1",children:"Encountered Problems"}),"\n",(0,s.jsxs)(t.p,{children:["One of the first issues encountered during this phase was the time required for the Tor network's bootstrap process.\nInitially, I assumed this was influenced by the choice of entry or exit nodes, as the Tor network could also have no\nrunning relays in the specified country. So, selecting an entry or exit node in such locations could lead to long\nbootstrap times, and in some cases, if the ",(0,s.jsx)(t.em,{children:"UseStrictNodes 1"})," line is present in the ",(0,s.jsx)(t.em,{children:"torrc"})," configuration file",(0,s.jsx)(t.br,{}),"\n","(This option forces Tor to use Entry or Exit node if set to 1, failing if no node is available), the bootstrap\nprocess could fail. This occurred when there were no suitable entry or exit nodes available in the specified region,\npreventing the bootstrap process from completing."]}),"\n",(0,s.jsx)(t.p,{children:"Another observed issue was the variation in bootstrap performance depending on the network environment. For instance,\nwhen connecting from my home network, the process is completed quickly with valid entry and exit nodes. However, when\nusing the University network, the bootstrap process was noticeably slower. A possible explanation for this discrepancy\nis that different ISPs have varying agreements with networks that route Tor traffic. Additionally, network policies may\nprioritize certain types of traffic over others."}),"\n",(0,s.jsxs)(t.p,{children:["A potential solution to mitigate these issues is the use of ",(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://bridges.torproject.org/",children:"Tor Bridges"})})," to bypass\nnetwork-level throttling or censorship. Tor bridges are private, unlisted entry points into the Tor network that help\ncircumvent restrictions imposed by ISPs."]}),"\n",(0,s.jsx)(t.h3,{id:"limitations",children:"Limitations"}),"\n",(0,s.jsx)(t.p,{children:"The limitations of this testing phase are primarily related to the controlled environment in which the tests were\nconducted. The setup did not present some issues, in the sense that the tests were successfully completed. The primary\nlimitation is that the tests were conducted in a local environment deploying the client and server on the same machine.\nMeasuring the round-trip time (RTT) between nodes in a real-world scenario, where nodes should be distributed globally,\nwould provide more accurate and relevant results. Additionally, in a real scenario, the locations of peers are not\nknown, meaning the RTT can vary significantly depending on the physical distance between nodes. The tests were conducted\nin a controlled environment, and the results may not accurately reflect the exact system performance in a real-world\nsetting but can give an idea of how the system can behave with different configurations. Moreover, since the Tor network\nis a shared network, the results are influenced by other users' activities and overall network congestion."}),"\n",(0,s.jsx)(t.p,{children:"The task execution could be subject to redirection before execution and completion, introducing additional delays that\ndepend on the physical location of the new selected provider. This limitation can be addressed in future tests by\ndeploying instances worldwide to evaluate system performance in a real-world setting, and by completing the Kademlia\nfull discovery algorithm creating a way to represent coherently the distance between nodes."}),"\n",(0,s.jsx)(t.p,{children:"Furthermore, to get significant results and generate charts representing the average RTT over time, the tests should be\nconducted over an extended period (e.g., several months) to calculate a more accurate average RTT over really worldwide\ndistributed nodes. In particular, a subset of nodes could execute these tests continuously to provide a more\ncomprehensive view of network latency and performance at each task submission."}),"\n",(0,s.jsx)(t.p,{children:"An additional factor that could affect the measurements in a real-world scenario is the limited number of Tor nodes in\ncertain countries. In this case, the bootstrap process could fail."}),"\n",(0,s.jsx)(t.h3,{id:"future-test-extensions",children:"Future Test Extensions"}),"\n",(0,s.jsx)(t.p,{children:"To improve the testing phase and get more comprehensive results, some extensions to the current methodology can be\nconsidered. Moreover, the limitations encountered during the tests can be addressed by implementing additional features\nand conducting more extensive evaluations. Additionally, metrics such as bandwidth and available relays can be\nconsidered to assess the system's performance. Measuring other aspects of the network, such as Circuit Setup Time, can\nalso provide insights into network behavior under different configurations."}),"\n",(0,s.jsx)(t.p,{children:"Beyond this approach, other improvements that can be explored:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Mocking:"})," Mocking particular components of the system to simulate different conditions and evaluate system\nbehavior under various scenarios. This approach could be a valuable tool for testing edge cases and assessing system\nrobustness or to probe specific behaviors for feasibility checks."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Real-World Scenario:"})," Setting up instances worldwide exploiting cloud services to analyze the system's performance\nin a truly distributed setting, allowing for realistic measurements and better insights."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Network:"})," Evaluating the system's performance in various configurations, including fully connected networks,\ntrying hierarchical structures (maybe more to adapt the system for other uses), and other sparse peer-to-peer\ntopologies."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Robustness:"})," Assessing the system's fault tolerance by simulating node failures, abrupt disconnections, and\nhigh-load scenarios. In this case, retry mechanisms and fault tolerance mechanisms have been tested manually to\nensure that the system can recover from errors and continue functioning correctly, but a more structured approach is\nfor sure beneficial."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Security:"})," Simulating network attacks, such as Sybil Attacks and traffic correlation attempts, to evaluate the\nresilience of the system against potential threats."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Optimization:"})," Testing and comparing different routing mechanisms to determine the most efficient strategy for\ntask distribution and peer discovery, including the full Kademlia discovery algorithm."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"By incorporating these extensions, the testing phase can be significantly improved, leading to more meaningful\nperformance evaluations."})]})}function d(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},735:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/peer-scaling-1-245a0c10022895a21a37892ab0382c5d.png"},9892:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/peer-scaling-2-f5489ae0e709b1adb9aa0ed32c5d56cd.png"},2557:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-ita-bulgary-cc75a7ec4565dad54029b910c1b92586.png"},9507:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-ita-ita-d46307c36462b220da2d3a7eb4fe80de.png"},817:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-ita-mex-e066a6cdf13b12c38b792fe3fe6efff8.png"},1358:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-japan-france-19d5f3006658679d5cea0e3e78481bec.png"},4027:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-russia-usa-02936591179bdb10fe84204d965773f4.png"},2111:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/scale-usa-india-2530f473fd42bb3ebae113ec321bc978.png"}}]);